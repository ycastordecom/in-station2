!function(){"use strict";function t(e){var i=a[e];if(void 0!==i)return i.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,t),r.exports}var e,n={31506:function(t,e,n){var a,i=n(18489),r=n(50508),o=n(6589),s=n(71873),p=n(36617),c=n(63630),l=n(27853),u=n(84531),h=n(12024),d=n(69620),_=n(91493),y=n(73696),m=n(17948),v=function(t){return{country:t.countryCode||"",region:t.administrativeArea||"",city:t.locality||"",postalCode:t.postalCode||"",recipient:t.name||"",phone:t.phoneNumber||"",sortingCode:t.sortingCode||"",addressLine:[t.address1||null,t.address2||null,t.address3||null].reduce((function(t,e){return null!=e?[].concat((0,y.Z)(t),[e]):t}),[]),dependentLocality:"",organization:""}},f=function(t,e){var n=t.id;return e.filter((function(t){return n===t.id}))[0]},g=function(t,e,n){var a=t.paymentMethodData.info.billingAddress;return(0,i.Z)((0,i.Z)({complete:n,token:JSON.parse(t.paymentMethodData.tokenizationData.token.trim()),shippingAddress:t.shippingAddress?v(t.shippingAddress):null,shippingOption:t.shippingOptionData&&e.shippingOptions?f(t.shippingOptionData,e.shippingOptions):null,payerEmail:t.email||null},a?{payerName:a.name||null,payerPhone:a.phoneNumber||null}:{}),{},{walletName:"googlePay",methodName:"google-pay"})},O=function t(e){var n=this;(0,l.Z)(this,t),this.loadPaymentData=function(t){return n._client.loadPaymentData(t)},this.isReadyToPay=function(t){return n._client.isReadyToPay(t)},this._client=new google.payments.api.PaymentsClient(e)},P=n(24643),C=n(40939),E=function(){function t(e,n,a,p){var c=this;(0,l.Z)(this,t),this._eventHandler=function(){},this._previouslySelectedShippingAddress=null,this._previouslySelectedShippingOption=null,this._wasCompleted=!1,this._handlePaymentDataChanged=function(t){return new o.J((function(e){var n=t.shippingOptionData,a=t.shippingAddress;a&&!(0,h.Xy)(a,c._previouslySelectedShippingAddress)?c._emitEvent({type:"shippingaddresschange",payload:{shippingAddress:v(a),updateWith:function(t){"success"===t.status&&(c._previouslySelectedShippingAddress=(0,i.Z)({},a)),e(c._handleUpdateWith(t,"SHIPPING_ADDRESS"))}}}):n&&n.id!==c._previouslySelectedShippingOption&&c._latestPaymentOptions.shippingOptions?c._emitEvent({type:"shippingoptionchange",payload:{shippingOption:f(n,c._latestPaymentOptions.shippingOptions),updateWith:function(t){"success"===t.status&&(c._previouslySelectedShippingOption=n.id),e(c._handleUpdateWith(t,"SHIPPING_OPTION"))}}}):e({})}))},this._handleUpdateWith=function(t,e){var n=t.status,a=(0,r.Z)(t,["status"]);if("success"!==n)return{error:(0,_.t5)(e,n)};var o=c._latestPaymentOptions.shippingOptions;c._latestPaymentOptions=(0,i.Z)((0,i.Z)({},c._latestPaymentOptions),a);var s=(0,_._t)(c._latestPaymentOptions,c._merchantDetails),p=s.transactionInfo,l=s.shippingOptionParameters,u={newTransactionInfo:p};return!(0,h.Xy)(c._latestPaymentOptions.shippingOptions,o)&&(u.newShippingOptionParameters=l),u},this._handlePaymentAuthorized=function(t){return new o.J((function(e){c._emitEvent({type:"paymentresponse",payload:g(t,c._latestPaymentOptions,(function(t){"success"===t&&(c._wasCompleted=!0),e((0,_.AH)(t))}))})}))},this.setEventHandler=function(t){c._eventHandler=t},this.abort=function(){},this.update=function(t){var e=t.__merchantDetails,n=t.__stripeUserCredentials,a=(0,r.Z)(t,["__merchantDetails","__stripeUserCredentials"]);c._setPaymentOptions((0,h.PM)(c._latestPaymentOptions,a)),c._merchantDetails=(0,h.PM)(c._merchantDetails,e),n&&(c._merchantDetails.apiKey=n.apiKey,c._merchantDetails.accountId=n.accountId)},this.show=function(){c._wasCompleted&&c._report("pr.show_called_after_completion");var t=(0,_._t)(c._latestPaymentOptions,c._merchantDetails);c._client.loadPaymentData(t).then((function(){c._emitEvent({type:"close"})})).catch((function(t){c._emitEvent({type:"close"});var e=function(t){var e=(0,s.ld)((0,s.mC)({statusCode:(0,s.kw)("CANCELED","BUYER_ACCOUNT_ERROR","DEVELOPER_ERROR","MERCHANT_ACCOUNT_ERROR","INTERNAL_ERROR"),statusMessage:(0,s.jt)(s.Z_)}),t,"Pay.js loadPaymentData.catch");return"error"===e.type?{tag:"EXCEPTION",error:t}:{tag:"PAYMENTS_ERROR",error:e.value}}(t);if("PAYMENTS_ERROR"===e.tag&&("CANCELED"===e.error.statusCode?c._emitEvent({type:"cancel"}):c._emitEvent({type:"error",payload:{errorMessage:e.error.statusMessage,errorCode:e.error.statusCode}})),"EXCEPTION"===e.tag)throw e.error}))},this.canMakePayment=function(){return c._clientUnavailable?o.J.resolve(!1):(0,C.R)(c._latestPaymentOptions.__betas).enabled?(0,P.Df)((function(){return c._canMakePaymentClient.isReadyToPay((0,_.XM)(c._latestPaymentOptions)).then((function(t){return c._report("pr.google_pay.activity_mode",{activityModeName:t.activityMode?m.d[t.activityMode]:"NO_MODE",activityMode:t.activityMode||-1}),function(t,e){var n=!!e.isCheckout||t.activityMode===m.h.PAYMENT_HANDLER||t.activityMode===m.h.ANDROID_NATIVE;return t.result&&!0===t.paymentMethodPresent&&n}(t,{isCheckout:!!c._latestPaymentOptions.__isCheckout})})).then((function(t){return c._report("pr.google_pay.can_make_payment_native_response",{available:t}),t}))})):o.J.resolve(!1)},this._authenticatedOrigin=a,this._setPaymentOptions(e),this._merchantDetails=(0,h.PM)(e.__merchantDetails,n),this._clientUnavailable=!1,this._report=p;var u=(0,d.lO)(n.apiKey)===d.Kl.live?"PRODUCTION":"TEST",y={paymentDataCallbacks:(0,i.Z)({onPaymentAuthorized:this._handlePaymentAuthorized},e.requestShipping?{onPaymentDataChanged:this._handlePaymentDataChanged}:{})};try{this._client=new O((0,i.Z)({environment:u},y)),this._canMakePaymentClient="TEST"===u?new O((0,i.Z)({environment:"PRODUCTION"},y)):this._client}catch(t){this._clientUnavailable=!0,this._report("error.pr.google_pay.client_unavailable",{errorMessage:t?t.message:"",error:t})}}return(0,u.Z)(t,[{key:"_setPaymentOptions",value:function(t){this._latestPaymentOptions=t,this._latestPaymentOptions.shippingOptions&&this._latestPaymentOptions.shippingOptions[0]&&(this._previouslySelectedShippingOption=this._latestPaymentOptions.shippingOptions[0].id)}},{key:"_emitEvent",value:function(t){this._eventHandler(t)}}]),t}(),b=n(939),w=n(66680),D=n(81743),k={authentication:(0,s.mC)({apiKey:s.Z_,accountId:(0,s.jt)(s.Z_)}),mids:(0,s.jt)(w.p),origin:s.Z_,controllerId:s.Z_,referrer:(0,s.jt)(s.Z_)},R={status:s.kw.apply(void 0,(0,y.Z)(Object.keys(D.qp)))},A=function(t,e){e.warnings.forEach((function(e){t.warn(e)}))},M=function(t){return function(e){switch(e.type){case"shippingoptionchange":case"shippingaddresschange":var n=e.payload,a=n.updateWith,i=(0,r.Z)(n,["updateWith"]);t.waitForCallback(e.type,i).then((function(n){var i=function(t,e){return(0,s.Gu)(b.F4,t,"Google Pay ".concat(e," Callback"))}(n,e.type);A(t,i),a(i.value)}));break;case"paymentresponse":var o=e.payload,p=o.complete,c=(0,r.Z)(o,["complete"]);t.waitForCallback(e.type,c).then((function(e){var n=function(t,e){return(0,s.Gu)((0,s.mC)(R),t,e)}(e,"GooglePayPaymentRequest complete");A(t,n),p(n.value.status)}));break;case"cancel":t.event("pr-cancel");break;case"close":t.event("pr-close");break;case"error":t.event("pr-error",e.payload);break;case"__private_do_not_use_error":case"__private_do_not_use_billingaddresschange":case"__private_do_not_use_couponcodechange":break;default:(0,s.Rz)(e)}}},S=function(t){var e,n,a=(e=t,n="payment-request-google-pay-inner.html",(0,s.Gu)((0,s.mC)(k),(0,p.vB)(e),n)),r=a.value,l=r.controllerId,u=r.authentication,h=new c.Z(l);A(h,a);var d=function(t,e){h.report(t,(0,i.Z)((0,i.Z)({},e),{},{backingLibrary:"GOOGLE_PAY"}))},_=new o.J((function(t){h.frameActionEvents.checkCanMakePayment.on(t)}));h._events.initialize.on((function(t,e){var n=(0,p.Ds)(e),a=new E(t,(0,i.Z)((0,i.Z)({},u),{},{origin:e},t.__merchantDetails||{name:n?n.host:e}),e,d);a.setEventHandler(M(h)),_.then((function(t){var e=t.complete;a.canMakePayment().then((function(t){return e({available:t})}))})),h._events.show.on(a.show),h._events.abort.on(a.abort),h._events.update.on(a.update)})),h.event("load")};a=window.location.hash.substring(1).split("?")[0],S(a)}},a={};t.m=n,e=[],t.O=function(n,a,i,r){if(!a){var o=1/0;for(l=0;l<e.length;l++){a=e[l][0],i=e[l][1],r=e[l][2];for(var s=!0,p=0;p<a.length;p++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](a[p])}))?a.splice(p--,1):(s=!1,r<o&&(o=r));if(s){e.splice(l--,1);var c=i();void 0!==c&&(n=c)}}return n}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[a,i,r]},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.j=4505,t.p="https://js.stripe.com/v3/",function(){var e={4505:0};t.O.j=function(t){return 0===e[t]};var n=function(n,a){var i,r,o=a[0],s=a[1],p=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(p)var l=p(t)}for(n&&n(a);c<o.length;c++)r=o[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(l)},a=window.webpackChunkStripeJSinner=window.webpackChunkStripeJSinner||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var i=t.O(void 0,[3712],(function(){return t(31506)}));i=t.O(i)}();
//# sourceMappingURL=https://js.stripe.com/v3/sourcemaps/payment-request-inner-google-pay-27e1e27d2c914cf8768f47b168a83149.js.map